<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shadows of Doubt Dashboard</title>
  <meta name="description" content="Local dashboard for Shadows of Doubt mod" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- Noir animated background (pure HTML/CSS) -->
  <div class="noir-background" aria-hidden="true">
    <div class="gradient-layer"></div>
    <div class="film-grain"></div>
    <div class="vignette"></div>
    <div class="parallax-layer">
      <div class="grid-layer"></div>
      <div class="scan-sweep"></div>
      <div class="glow-orb-1"></div>
      <div class="glow-orb-2"></div>
    </div>
  </div>

  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo" aria-label="Shadows of Doubt">
          <svg class="logo-svg" viewBox="0 0 36 36" role="img" aria-hidden="true">
            <defs>
              <linearGradient id="logo-grad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)"/>
                <stop offset="100%" stop-color="var(--accent-2)"/>
              </linearGradient>
              <filter id="logo-glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="1.8" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <!-- Outer ring (O) with animated dash -->
            <circle cx="18" cy="18" r="18" class="ring neon"/>
            <!-- Letters now rendered as real text overlays (see .logo-t-left/.logo-t-right) -->
          </svg>
          <span class="logo-letters" aria-hidden="true"><span>S</span><span>O</span><span>D</span></span>
        </div>
        <div class="title">Dashboard</div>
      </div>
      <nav class="nav">
        <a class="nav-item active" href="?view=home" data-view="home">
          <span>Overview</span>
        </a>
        <a class="nav-item" href="?view=npcs" data-view="npcs">
          <span>NPCs</span>
        </a>
        <a class="nav-item" href="?view=player" data-view="player">
          <span>Player</span>
        </a>
        <a class="nav-item" href="?view=map" data-view="map">
          <span>Map</span>
        </a>
        <a class="nav-item" href="?view=stats" data-view="stats">
          <span>Stats</span>
        </a>
        <div class="spacer"></div>
        <a class="nav-item" href="?view=settings" data-view="settings">
          <span>Settings</span>
        </a>
      </nav>
      <div class="status">
        <div class="dot" id="health-dot"></div>
        <div class="status-text" id="health-text">Connecting…</div>
      </div>
    </aside>

    <main class="content">
      <header class="topbar">
        <h1 id="view-title">Overview</h1>
        <div class="topbar-actions">
          <button id="refresh-btn" class="btn">Refresh</button>
        </div>
      </header>

      <section id="view-home" class="view active">
        <div class="cards">
          <div class="card">
            <div class="card-title">Server</div>
            <div class="kv">
              <div><span class="k">Status: </span><span class="v" id="server-status">—</span></div>
              <div><span class="k">Port: </span><span class="v" id="server-port">—</span></div>
              <div><span class="k">Time: </span><span class="v" id="server-time">—</span></div>
            </div>
          </div>
          <div class="card">
            <div class="card-title">Game</div>
            <div class="kv">
              <div><span class="k">Save: </span><span class="v" id="game-save">—</span></div>
              <div><span class="k">City: </span><span class="v" id="game-city">—</span></div>
              <div><span class="k">Time: </span><span class="v" id="game-time">—</span></div>
              <div><span class="k">Murder MO: </span><span class="v" id="game-mo">—</span></div>
            </div>
          </div>
          <div class="card">
            <div class="card-title">Quick Links</div>
            <ul class="links">
              <li><a href="/api/health" target="_blank">API: Health</a></li>
              <li><a href="/api/info" target="_blank">API: Info</a></li>
            </ul>
          </div>
        </div>
      </section>

      <section id="view-npcs" class="view">
        <div class="toolbar">
          <input id="npc-search" class="input" type="text" placeholder="Search by name or surname..." />
          <button id="npc-refresh" class="btn">Refresh</button>
        </div>
        <div id="npc-list" class="npc-list"></div>
      </section>

      <section id="view-player" class="view">
        <div class="card">
          <div class="card-title">Spawn Item To Inventory</div>
          <div class="kv">
            <div class="form-row">
              <label class="k" for="player-search">Search:</label>
              <span class="v">
                <input id="player-search" class="input" type="text" placeholder="Search presets..." />
              </span>
            </div>
            <div class="form-row">
              <label class="k" for="player-preset">Preset:</label>
              <span class="v">
                <select id="player-preset" class="input" aria-label="Interactable preset"></select>
              </span>
            </div>
            <div class="row-actions">
              <button id="player-spawn" class="btn">Spawn Selected</button>
            </div>
            <div id="player-status" class="dev-status dev-status-info mt-10">—</div>
          </div>
        </div>

        <div class="card mt-20">
          <div class="card-title">Player Status</div>
          <div class="kv">
            <div class="form-row">
              <label class="k">Health:</label>
              <span class="v">
                <div class="bar bar-health"><div id="player-health-fill" class="bar-fill"></div></div>
                <div id="player-health-text" class="metric-label">—</div>
              </span>
            </div>

            <div class="form-row"><label class="k">Hunger:</label><span class="v"><div class="bar bar-need"><div id="player-hunger-fill" class="bar-fill"></div></div><div id="player-hunger-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Thirst:</label><span class="v"><div class="bar bar-need"><div id="player-thirst-fill" class="bar-fill"></div></div><div id="player-thirst-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Tiredness:</label><span class="v"><div class="bar bar-need"><div id="player-tiredness-fill" class="bar-fill"></div></div><div id="player-tiredness-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Energy:</label><span class="v"><div class="bar bar-need"><div id="player-energy-fill" class="bar-fill"></div></div><div id="player-energy-text" class="metric-label">—</div></span></div>

            <div class="form-row"><label class="k">Stinky:</label><span class="v"><div class="bar bar-status"><div id="player-stinky-fill" class="bar-fill"></div></div><div id="player-stinky-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Cold:</label><span class="v"><div class="bar bar-status"><div id="player-cold-fill" class="bar-fill"></div></div><div id="player-cold-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Wet:</label><span class="v"><div class="bar bar-status"><div id="player-wet-fill" class="bar-fill"></div></div><div id="player-wet-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Headache:</label><span class="v"><div class="bar bar-status"><div id="player-headache-fill" class="bar-fill"></div></div><div id="player-headache-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Bruised:</label><span class="v"><div class="bar bar-status"><div id="player-bruised-fill" class="bar-fill"></div></div><div id="player-bruised-text" class="metric-label">—</div></span></div>
            <div class="form-row"><label class="k">Bleeding:</label><span class="v"><div class="bar bar-status"><div id="player-bleeding-fill" class="bar-fill"></div></div><div id="player-bleeding-text" class="metric-label">—</div></span></div>
          </div>
        </div>
      </section>

      <section id="view-map" class="view">
        <div class="placeholder">An interactive map will be embedded here.</div>
      </section>

      <section id="view-stats" class="view">
        <div class="placeholder">Graphs and KPIs about the current city and case.</div>
      </section>

      <section id="view-settings" class="view">
        <div class="card">
          <div class="card-title">Theme</div>
          <div class="kv">
            <div class="form-row">
              <label class="k">Color:</label>
              <span class="v">
                <label style="margin-right:14px"><input type="radio" name="theme" value="blue" id="theme-blue"> Blue</label>
                <label><input type="radio" name="theme" value="red" id="theme-red"> Red (neon)</label>
              </span>
            </div>
            <div class="metric-label">Applies instantly and is saved in your browser.</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="./app.js"></script>
</body>
</html>
